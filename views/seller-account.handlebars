<section class="account-page ptb-50">
    <div class="container"> 
    <h1> Seller Account </h1>
        <div class="row">  
            <aside class="col-md-9 col-sm-8 ptb-15">
                <div class="panel-group accordion-panel" id="accordion">
                    <div class="panel"> 
                        <div class="accordion-heading">                              
                            <a class="title-2" data-toggle="collapse" data-parent="#accordion" href="#accordion-1" aria-expanded="true"> 
                                <i class="fa fa-caret-right"></i> <strong> My Account </strong> 
                            </a>                              
                        </div>
                        <div id="accordion-1" class="panel-collapse collapse in">
                            <div class="account-body">
                                <p> Username: {{user.username}} </p>
                                <p> Name: {{user.first_name}} {{user.last_name}} </p>
                                <p> Email: {{user.email}} </p>
                                {{#if details}}
                                    <p> Address: {{details.address}}, {{details.city}}, {{details.state}}, {{details.country}}, {{details.zip}} </p>
                                    {{else}}
                                    <br>
                                    <form action="/add-address" method="POST">
                                        <h5>Please add your address. Sellers are required to add their address before getting a transaction. </h4>
                                        {{#if error}}
                                        <div id="error-message">
                                            {{error}}
                                        </div>
                                        {{/if}} <br>
                                        <label>Address:</label>
                                        <input type="text" class="input-field" name="address" placeholder="Address..."/> <br>
                                        <label>City :</label>
                                        <input type="text" class="input-field" name="city" placeholder="City..."/> <br>
                                        <label>State :</label>
                                        <input type="text" class="input-field" name="state" placeholder="State..."/> <br>
                                        <label>Country :</label>
                                        <input type="text" class="input-field" name="country" placeholder="Country..."/> <br>
                                        <label>Zip/Postal Code :</label>
                                        <input type="number" class="input-field" name="zip" placeholder="Zip or Postal Code..."/> <br>
                                        <label>Password :</label>
                                        <input type="password" class="input-field" name="password" placeholder="Password..."/> <br><br>                       
                                        <button type="submit">Add Address</button>
                                    </form>
                                {{/if}}
                            </div>
                        </div>
                    </div>

                    <div class="panel"> 
                        <div class="accordion-heading">                              
                            <a class="title-2" data-toggle="collapse" data-parent="#accordion" href="#accordion-2"> 
                                <i class="fa fa-caret-right"></i> <strong> Products </strong>  
                            </a>                              
                        </div>
                        <div id="accordion-2" class="panel-collapse collapse">
                            <div class="account-body">
                                <ul class="acnt-list">
                                    {{#each products}}
                                    <li class="seller-products" data-id="{{this.product_id}}">
                                        <img src="assets/imgs/store/{{this.image}}" alt={{this.name}} width="50px" height="50px"> 
                                        <p>Name: <span class="information-field">{{this.name}}</span></p>
                                        <p>Type: <span class="information-field"></span>{{this.type}}</span></p>
                                        <p>Description: <span class="information-field"></span>{{this.description}}</span></p>
                                        <p>Price: <span class="information-field"></span>{{this.cost}}</span></p>
                                        <p>Rating: <span class="information-field"></span>{{this.rating}} stars {{this.review_number}} reviews </span></p>
                                        <p>Approval Status: <span class="information-field"></span>{{this.status}}</span></p>
                                        {{#if edit}}
                                            {{#if update}}
                                                <form action="/update-product" method="POST">
                                                    <h5>Which information do you want to change? </h4>
                                                    {{#if error}}
                                                    <div id="error-message">
                                                        {{error}}
                                                    </div>
                                                    {{/if}} <br>
                                                    <label>New Information:</label>
                                                    <input type="text" class="input-field" name="newContent"/> <br>
                                                    <label> Information Type: </label>
                                                    <select class="input-field" name="type" style="width: 100%">
                                                        <option value="name">Other</option>
                                                        <option value="type">Mask</option>
                                                        <option value="description">PPE</option>
                                                        <option value="cost">Essential</option>
                                                        <option value="image">Pharm</option>
                                                    </select> <br><br>                       
                                                    <button type="submit" class="mini-submit-btn" data-id="{{this.product_id}}">Update Product</button>
                                                </form>
                                                <button action="/login" method="GET" class="mini-submit-btn">Cancel</a>
                                                {{else}}
                                                    <label> Are you sure you want to delete this product from your store? </label><br>
                                                    <button action="/login" method="GET" class="mini-submit-btn">Cancel</a>
                                                    <button action="/delete-product" method="POST" class="mini-submit-btn" data-id="{{this.product_id}}">Delete</a>
                                            {{/if}}
                                            {{else}}
                                            <a href="/update-product" class="mini-submit-btn">Update</button>
                                            <a href="/delete-product" class="mini-submit-btn">Delete</button>
                                        {{/if}}
                                    </li>
                                    {{/each}}
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="panel"> 
                        <div class="accordion-heading">                              
                            <a class="title-2" data-toggle="collapse" data-parent="#accordion" href="#accordion-3">  
                                <i class="fa fa-caret-right"></i> <strong> Newsletter </strong> 
                            </a>                              
                        </div>
                        <div id="accordion-3" class="panel-collapse collapse">
                            <div class="account-body">
                                [This week newsletter]
                            </div>
                        </div>
                    </div>
                </div>
            </aside>                        
            
            <!-- SIDEBAR --> 
            <aside class="col-md-3 col-sm-4">
                <div class="widget-wrap">
                    <h2 class="widget-title"> Account Setting </h2>
                    <div class="divider-full-1"></div>
                    <ul class="cate-widget">
                        <li> <a href="#"> Account Information </a></li>                                      
                        <li> <a href="/add-product"> Add Product</a></li>
                        <li> <a href="#"> Newsletter Subscription</a></li>
                        <li> <a href="/signout"> Sign Out</a></li>
                    </ul>
                </div>
            </aside>   

        </div>
    </div>
</section>